<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Flipper Zero Firmware: Infrared Flipper File Formats</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Flipper Zero Firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title"><a class="el" href="struct_infrared.html">Infrared</a> Flipper <a class="el" href="struct_file.html" title="Structure that hold file index and returned api errors.">File</a> Formats </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md78"></a>
Infrared Remote File Format</h1>
<h2><a class="anchor" id="autotoc_md79"></a>
Example</h2>
<pre class="fragment">Filetype: IR signals file
Version: 1
#
name: Button_1
type: parsed
protocol: NECext
address: EE 87 00 00
command: 5D A0 00 00
#
name: Button_2
type: raw
frequency: 38000
duty_cycle: 0.330000
data: 504 3432 502 483 500 484 510 502 502 482 501 485 509 1452 504 1458 509 1452 504 481 501 474 509 3420 503
#
name: Button_3
type: parsed
protocol: SIRC
address: 01 00 00 00
command: 15 00 00 00
</pre> <h2><a class="anchor" id="autotoc_md80"></a>
Description</h2>
<p >Filename extension: <code>.ir</code></p>
<p >This file format is used to store an infrared remote that consists of an arbitrary number of buttons. Each button is separated from others by a comment character (<code>#</code>) for better readability.</p>
<p >Known protocols are represented in the <code>parsed</code> form, whereas non-recognized signals may be saved and re-transmitted as <code>raw</code> data.</p>
<h3><a class="anchor" id="autotoc_md81"></a>
Version history:</h3>
<ol type="1">
<li>Initial version.</li>
</ol>
<h3><a class="anchor" id="autotoc_md82"></a>
Format fields</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Use   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">name   </td><td class="markdownTableBodyNone">both   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone">Name of the button. Only printable ASCII characters are allowed.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">type   </td><td class="markdownTableBodyNone">both   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone">Type of the signal. Must be <code>parsed</code> or <code>raw</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">protocol   </td><td class="markdownTableBodyNone">parsed   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone">Name of the infrared protocol. Refer to <code>ir</code> console command for the complete list of supported protocols.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">address   </td><td class="markdownTableBodyNone">parsed   </td><td class="markdownTableBodyNone">hex   </td><td class="markdownTableBodyNone">Payload address. Must be 4 bytes long.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">command   </td><td class="markdownTableBodyNone">parsed   </td><td class="markdownTableBodyNone">hex   </td><td class="markdownTableBodyNone">Payload command. Must be 4 bytes long.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">frequency   </td><td class="markdownTableBodyNone">raw   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Carrier frequency, in Hertz, usually 38000 Hz.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">duty_cycle   </td><td class="markdownTableBodyNone">raw   </td><td class="markdownTableBodyNone">float   </td><td class="markdownTableBodyNone">Carrier duty cycle, usually 0.33.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">data   </td><td class="markdownTableBodyNone">raw   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Raw signal timings, in microseconds between logic level changes. Individual elements must be space-separated. Maximum timings amount is 1024.   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md83"></a>
Infrared Library File Format</h1>
<h2><a class="anchor" id="autotoc_md84"></a>
Examples</h2>
<ul>
<li><a href="/assets/resources/infrared/assets/tv.ir">TV Universal Library</a></li>
<li><a href="/assets/resources/infrared/assets/ac.ir">A/C Universal Library</a></li>
<li><a href="/assets/resources/infrared/assets/audio.ir">Audio Universal Library</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md85"></a>
Description</h2>
<p >Filename extension: <code>.ir</code></p>
<p >This file format is used to store universal remote libraries. It is identical to the previous format, differing only in the <code>Filetype</code> field.\ It also has predefined button names for each universal library type, so that the universal remote application can understand them. See Universal Remotes for more information.</p>
<h2><a class="anchor" id="autotoc_md86"></a>
Version history:</h2>
<ol type="1">
<li>Initial version.</li>
</ol>
<h1><a class="anchor" id="autotoc_md87"></a>
Infrared Test File Format</h1>
<h2><a class="anchor" id="autotoc_md88"></a>
Examples</h2>
<p >See <a href="/assets/unit_tests/infrared/">Infrared Unit Tests</a> for various examples.</p>
<h2><a class="anchor" id="autotoc_md89"></a>
Description</h2>
<p >Filename extension: <code>.irtest</code></p>
<p >This file format is used to store technical test data that is too large to keep directly in the firmware. It is mostly similar to the two previous formats, with the main difference being the addition of the parsed signal arrays.</p>
<p >Each infrared protocol must have corresponding unit tests complete with an <code>.irtest</code> file.</p>
<p >Known protocols are represented in the <code>parsed_array</code> form, whereas raw data has the <code>raw</code> type.\ Note: a single parsed signal must be represented as an array of size 1.</p>
<h2><a class="anchor" id="autotoc_md90"></a>
Version history:</h2>
<ol type="1">
<li>Initial version.</li>
</ol>
<h3><a class="anchor" id="autotoc_md91"></a>
Format fields</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Use   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">name   </td><td class="markdownTableBodyNone">both   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone">Name of the signal. Only printable ASCII characters are allowed.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">type   </td><td class="markdownTableBodyNone">both   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone">Type of the signal. Must be <code>parsed_array</code> or <code>raw</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">count   </td><td class="markdownTableBodyNone">parsed_array   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">The number of parsed signals in an array. Must be at least 1.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">protocol   </td><td class="markdownTableBodyNone">parsed_array   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone">Same as in previous formats.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">address   </td><td class="markdownTableBodyNone">parsed_array   </td><td class="markdownTableBodyNone">hex   </td><td class="markdownTableBodyNone">Ditto.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">command   </td><td class="markdownTableBodyNone">parsed_array   </td><td class="markdownTableBodyNone">hex   </td><td class="markdownTableBodyNone">Ditto.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">repeat   </td><td class="markdownTableBodyNone">parsed_array   </td><td class="markdownTableBodyNone">bool   </td><td class="markdownTableBodyNone">Indicates whether the signal is a repeated button press.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">frequency   </td><td class="markdownTableBodyNone">raw   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Same as in previous formats.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">duty_cycle   </td><td class="markdownTableBodyNone">raw   </td><td class="markdownTableBodyNone">float   </td><td class="markdownTableBodyNone">Ditto.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">data   </td><td class="markdownTableBodyNone">raw   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Ditto.   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md92"></a>
Signal names</h3>
<p >The signal names in an <code>.irtest</code> file follow a convention <code>&lt;name&gt;&lt;test_number&gt;</code>, where the name is one of:</p>
<ul>
<li>decoder_input</li>
<li>decoder_expected</li>
<li>encoder_decoder_input,</li>
</ul>
<p >and the number is a sequential integer: 1, 2, 3, etc., which produces names like <code>decoder_input1</code>, <code>encoder_decoder_input3</code>, and so on.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">decoder_input   </td><td class="markdownTableBodyNone">raw   </td><td class="markdownTableBodyNone">A raw signal containing the decoder input. Also used as the expected encoder output.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">decoder_expected   </td><td class="markdownTableBodyNone">parsed_array   </td><td class="markdownTableBodyNone">An array of parsed signals containing the expected decoder output. Also used as the encoder input.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">encoder_decoder_input   </td><td class="markdownTableBodyNone">parsed_array   </td><td class="markdownTableBodyNone">An array of parsed signals containing both the encoder-decoder input and expected output.   </td></tr>
</table>
<p >See <a href="/documentation/UnitTests.md#infrared">Unit Tests</a> for more info. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
